{"remainingRequest":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\src\\components\\goods\\Categories.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\src\\components\\goods\\Categories.vue","mtime":1564839412962},{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { getCategoriesList_api } from '@/api'\r\nexport default {\r\n  data() {\r\n    return {\r\n      common: ['商品管理', '商品分类'], //公共组件传值\r\n      cateList: [],\r\n      queryInfo: {\r\n        //请求商品列表参数\r\n        pagenum: 1,\r\n        pagesize: 5\r\n      },\r\n       total:0,  //总页数\r\n      props: {\r\n        stripe: false,\r\n        border: true,\r\n        showHeader: true,\r\n        showSummary: false,\r\n        showRowHover: false,\r\n        showIndex: true,\r\n        treeType: true,\r\n        isFold: true,\r\n        expandType: false,\r\n        selectionType: false\r\n      },\r\n      columns: [\r\n        {\r\n          label: '名称',\r\n          prop: 'cat_name',\r\n          width: '300px'\r\n        },\r\n        {\r\n          label: '是否有效',\r\n          type: 'template',\r\n          template: 'valid'\r\n        },\r\n        {\r\n          label: '排序',\r\n          type: 'template',\r\n          template: 'sort'\r\n        },\r\n        {\r\n          label: '操作',\r\n          type: 'template',\r\n          template: 'operation'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  created() {\r\n    this.getCategoriesList()\r\n  },\r\n  methods: {\r\n      handleSizeChange(val){\r\n    //   console.log(val);\r\n      this.queryInfo.pagesize=val\r\n      this.getCategoriesList()\r\n    },\r\n    handleCurrentChange(val){\r\n    //   console.log(val);\r\n      this.queryInfo.pagenum=val\r\n       this.getCategoriesList() \r\n    },\r\n    async getCategoriesList() {\r\n      const { data: res } = await getCategoriesList_api(this.queryInfo)\r\n      if (res.meta.status != 200)\r\n        return this.$message.error('获取用户数据列表失败')\r\n      this.$message.success('获取用户数据列表成功')\r\n      this.cateList = res.data.result\r\n      this.total=res.data.total;\r\n    //   console.log(res.data);\r\n      \r\n    }\r\n  }\r\n  \r\n}\r\n",{"version":3,"sources":["Categories.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"Categories.vue","sourceRoot":"src/components/goods","sourcesContent":["\r\n<template>\r\n  <div>\r\n    <Breadcrumb :value=\"common\"></Breadcrumb>\r\n    <el-card class=\"box-card\">\r\n      <div class=\"text item\">\r\n        <el-button type=\"success\" style class=\"search_button\">添加分类</el-button>\r\n      </div>\r\n      <tree-table\r\n        index-text=\"#\"\r\n        :data=\"cateList\"\r\n        :columns=\"columns\"\r\n        :stripe=\"props.stripe\"\r\n        :border=\"props.border\"\r\n        :show-header=\"props.showHeader\"\r\n        :show-summary=\"props.showSummary\"\r\n        :show-row-hover=\"props.showRowHover\"\r\n        :show-index=\"props.showIndex\"\r\n        :tree-type=\"props.treeType\"\r\n        :is-fold=\"props.isFold\"\r\n        :expand-type=\"props.expandType\"\r\n        :selection-type=\"props.selectionType\"\r\n      >\r\n        <!-- 自定义列‘是否有效’ -->\r\n        <template slot=\"valid\" scope=\"scope\">\r\n          <i\r\n            v-if=\"!scope.row.cat_deleted\"\r\n            class=\"el-icon-success\"\r\n            style=\"color:#85ce61;font-size:16px\"\r\n          ></i>\r\n          <i v-else class=\"el-icon-error\" style=\"color:red;font-size:16px\"></i>\r\n        </template>\r\n        <!-- 排序 -->\r\n        <template slot=\"sort\" scope=\"scope\">\r\n          <el-tag v-if=\"scope.row.cat_level==0\">一级</el-tag>\r\n          <el-tag type=\"success\" v-else-if=\"scope.row.cat_level==1\">二级</el-tag>\r\n          <el-tag type=\"warning\" v-else>三级</el-tag>\r\n        </template>\r\n        <!-- 操作 -->\r\n        <template slot=\"operation\" scope=\"scope\">\r\n          <!-- 修改按钮 -->\r\n          <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"></el-button>\r\n          <!-- 删除按钮 -->\r\n          <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"></el-button>\r\n        </template>\r\n      </tree-table>\r\n      <!-- //分页 -->\r\n      <el-pagination\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"queryInfo.pagenum\"\r\n          :page-sizes=\"[2, 5, 10, 20]\"\r\n          :page-size=\"queryInfo.pagesize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n      ></el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCategoriesList_api } from '@/api'\r\nexport default {\r\n  data() {\r\n    return {\r\n      common: ['商品管理', '商品分类'], //公共组件传值\r\n      cateList: [],\r\n      queryInfo: {\r\n        //请求商品列表参数\r\n        pagenum: 1,\r\n        pagesize: 5\r\n      },\r\n       total:0,  //总页数\r\n      props: {\r\n        stripe: false,\r\n        border: true,\r\n        showHeader: true,\r\n        showSummary: false,\r\n        showRowHover: false,\r\n        showIndex: true,\r\n        treeType: true,\r\n        isFold: true,\r\n        expandType: false,\r\n        selectionType: false\r\n      },\r\n      columns: [\r\n        {\r\n          label: '名称',\r\n          prop: 'cat_name',\r\n          width: '300px'\r\n        },\r\n        {\r\n          label: '是否有效',\r\n          type: 'template',\r\n          template: 'valid'\r\n        },\r\n        {\r\n          label: '排序',\r\n          type: 'template',\r\n          template: 'sort'\r\n        },\r\n        {\r\n          label: '操作',\r\n          type: 'template',\r\n          template: 'operation'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  created() {\r\n    this.getCategoriesList()\r\n  },\r\n  methods: {\r\n      handleSizeChange(val){\r\n    //   console.log(val);\r\n      this.queryInfo.pagesize=val\r\n      this.getCategoriesList()\r\n    },\r\n    handleCurrentChange(val){\r\n    //   console.log(val);\r\n      this.queryInfo.pagenum=val\r\n       this.getCategoriesList() \r\n    },\r\n    async getCategoriesList() {\r\n      const { data: res } = await getCategoriesList_api(this.queryInfo)\r\n      if (res.meta.status != 200)\r\n        return this.$message.error('获取用户数据列表失败')\r\n      this.$message.success('获取用户数据列表成功')\r\n      this.cateList = res.data.result\r\n      this.total=res.data.total;\r\n    //   console.log(res.data);\r\n      \r\n    }\r\n  }\r\n  \r\n}\r\n</script>\r\n<style lang='less' scoped>\r\n.search_button {\r\n    margin-bottom: 10px;\r\n    }\r\n</style>"]}]}