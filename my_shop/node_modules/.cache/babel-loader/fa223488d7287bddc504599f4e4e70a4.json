{"remainingRequest":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\babel-loader\\lib\\index.js!F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\src\\components\\goods\\Categories.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\src\\components\\goods\\Categories.vue","mtime":1564844983457},{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"F:\\\\item\\\\\\u5C31\\u4E1A\\u73ED\\\\day60-vuejs\\\\\\u7535\\u5546\\u9879\\u76EE\\\\3.\\u9879\\u76EE\\u5B9E\\u6218day1\\\\\\u7D20\\u6750\\\\my_shop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getCategoriesList_api } from '@/api';\nexport default {\n  data: function data() {\n    return {\n      common: ['商品管理', '商品分类'],\n      //公共组件传值\n      cateList: [],\n      queryInfo: {\n        //请求商品列表参数\n        pagenum: 1,\n        pagesize: 5\n      },\n      total: 0,\n      //总页数\n      props: {\n        stripe: false,\n        border: true,\n        showHeader: true,\n        showSummary: false,\n        showRowHover: false,\n        showIndex: true,\n        treeType: true,\n        isFold: true,\n        expandType: false,\n        selectionType: false\n      },\n      columns: [{\n        label: '名称',\n        prop: 'cat_name',\n        width: '300px'\n      }, {\n        label: '是否有效',\n        type: 'template',\n        template: 'valid'\n      }, {\n        label: '排序',\n        type: 'template',\n        template: 'sort'\n      }, {\n        label: '操作',\n        type: 'template',\n        template: 'operation'\n      }]\n    };\n  },\n  created: function created() {\n    this.getCategoriesList();\n  },\n  methods: {\n    handleSizeChange: function handleSizeChange(val) {\n      //   console.log(val);\n      this.queryInfo.pagesize = val;\n      this.getCategoriesList();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      //   console.log(val);\n      this.queryInfo.pagenum = val;\n      this.getCategoriesList();\n    },\n    getCategoriesList: function () {\n      var _getCategoriesList = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _ref, res;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getCategoriesList_api(this.queryInfo);\n\n              case 2:\n                _ref = _context.sent;\n                res = _ref.data;\n\n                if (!(res.meta.status != 200)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", this.$message.error('获取用户数据列表失败'));\n\n              case 6:\n                this.$message.success('获取用户数据列表成功');\n                this.cateList = res.data.result;\n                this.total = res.data.total; //   console.log(res.data);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getCategoriesList() {\n        return _getCategoriesList.apply(this, arguments);\n      }\n\n      return getCategoriesList;\n    }()\n  }\n};",{"version":3,"sources":["Categories.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA,SAAA,qBAAA,QAAA,OAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CADA;AACA;AACA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA;AACA;AACA,QAAA,OAAA,EAAA,CAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OAHA;AAQA,MAAA,KAAA,EAAA,CARA;AAQA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,MAAA,EAAA,IAFA;AAGA,QAAA,UAAA,EAAA,IAHA;AAIA,QAAA,WAAA,EAAA,KAJA;AAKA,QAAA,YAAA,EAAA,KALA;AAMA,QAAA,SAAA,EAAA,IANA;AAOA,QAAA,QAAA,EAAA,IAPA;AAQA,QAAA,MAAA,EAAA,IARA;AASA,QAAA,UAAA,EAAA,KATA;AAUA,QAAA,aAAA,EAAA;AAVA,OATA;AAqBA,MAAA,OAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,UAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OADA,EAMA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,IAAA,EAAA,UAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OANA,EAWA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,UAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OAXA,EAgBA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,UAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OAhBA;AArBA,KAAA;AA4CA,GA9CA;AA+CA,EAAA,OA/CA,qBA+CA;AACA,SAAA,iBAAA;AACA,GAjDA;AAkDA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,GADA,EACA;AACA;AACA,WAAA,SAAA,CAAA,QAAA,GAAA,GAAA;AACA,WAAA,iBAAA;AACA,KALA;AAMA,IAAA,mBANA,+BAMA,GANA,EAMA;AACA;AACA,WAAA,SAAA,CAAA,OAAA,GAAA,GAAA;AACA,WAAA,iBAAA;AACA,KAVA;AAWA,IAAA,iBAXA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAYA,qBAAA,CAAA,KAAA,SAAA,CAZA;;AAAA;AAAA;AAYA,gBAAA,GAZA,QAYA,IAZA;;AAAA,sBAaA,GAAA,CAAA,IAAA,CAAA,MAAA,IAAA,GAbA;AAAA;AAAA;AAAA;;AAAA,iDAcA,KAAA,QAAA,CAAA,KAAA,CAAA,YAAA,CAdA;;AAAA;AAeA,qBAAA,QAAA,CAAA,OAAA,CAAA,YAAA;AACA,qBAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,qBAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAjBA,CAkBA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAlDA,CAAA","sourcesContent":["\r\n<template>\r\n  <div>\r\n    <Breadcrumb :value=\"common\"></Breadcrumb>\r\n    <el-card class=\"box-card\">\r\n      <div class=\"text item\">\r\n        <el-button type=\"success\" style class=\"search_button\">添加分类</el-button>\r\n      </div>\r\n      <tree-table\r\n        index-text=\"#\"\r\n        :data=\"cateList\"\r\n        :columns=\"columns\"\r\n        :stripe=\"props.stripe\"\r\n        :border=\"props.border\"\r\n        :show-header=\"props.showHeader\"\r\n        :show-summary=\"props.showSummary\"\r\n        :show-row-hover=\"props.showRowHover\"\r\n        :show-index=\"props.showIndex\"\r\n        :tree-type=\"props.treeType\"\r\n        :is-fold=\"props.isFold\"\r\n        :expand-type=\"props.expandType\"\r\n        :selection-type=\"props.selectionType\"\r\n      >\r\n        <!-- 自定义列‘是否有效’ -->\r\n        <template slot=\"valid\" scope=\"scope\">\r\n          <i\r\n            v-if=\"!scope.row.cat_deleted\"\r\n            class=\"el-icon-success\"\r\n            style=\"color:#85ce61;font-size:16px\"\r\n          ></i>\r\n          <i v-else class=\"el-icon-error\" style=\"color:red;font-size:16px\"></i>\r\n        </template>\r\n        <!-- 排序 -->\r\n        <template slot=\"sort\" scope=\"scope\">\r\n          <el-tag v-if=\"scope.row.cat_level==0\">一级</el-tag>\r\n          <el-tag type=\"success\" v-else-if=\"scope.row.cat_level==1\">二级</el-tag>\r\n          <el-tag type=\"warning\" v-else>三级</el-tag>\r\n        </template>\r\n        <!-- 操作 -->\r\n        <template slot=\"operation\" scope=\"scope\">\r\n          <!-- 修改按钮 -->\r\n          <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"></el-button>\r\n          <!-- 删除按钮 -->\r\n          <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"></el-button>\r\n        </template>\r\n      </tree-table>\r\n      <!-- //分页 -->\r\n      <el-pagination\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"queryInfo.pagenum\"\r\n          :page-sizes=\"[2, 5, 10, 20]\"\r\n          :page-size=\"queryInfo.pagesize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n      ></el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCategoriesList_api } from '@/api'\r\nexport default {\r\n  data() {\r\n    return {\r\n      common: ['商品管理', '商品分类'], //公共组件传值\r\n      cateList: [],\r\n      queryInfo: {\r\n        //请求商品列表参数\r\n        pagenum: 1,\r\n        pagesize: 5\r\n      },\r\n       total:0,  //总页数\r\n      props: {\r\n        stripe: false,\r\n        border: true,\r\n        showHeader: true,\r\n        showSummary: false,\r\n        showRowHover: false,\r\n        showIndex: true,\r\n        treeType: true,\r\n        isFold: true,\r\n        expandType: false,\r\n        selectionType: false\r\n      },\r\n      columns: [\r\n        {\r\n          label: '名称',\r\n          prop: 'cat_name',\r\n          width: '300px'\r\n        },\r\n        {\r\n          label: '是否有效',\r\n          type: 'template',\r\n          template: 'valid'\r\n        },\r\n        {\r\n          label: '排序',\r\n          type: 'template',\r\n          template: 'sort'\r\n        },\r\n        {\r\n          label: '操作',\r\n          type: 'template',\r\n          template: 'operation'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  created() {\r\n    this.getCategoriesList()\r\n  },\r\n  methods: {\r\n      handleSizeChange(val){\r\n    //   console.log(val);\r\n      this.queryInfo.pagesize=val\r\n      this.getCategoriesList()\r\n    },\r\n    handleCurrentChange(val){\r\n    //   console.log(val);\r\n      this.queryInfo.pagenum=val\r\n       this.getCategoriesList() \r\n    },\r\n    async getCategoriesList() {\r\n      const { data: res } = await getCategoriesList_api(this.queryInfo)\r\n      if (res.meta.status != 200)\r\n        return this.$message.error('获取用户数据列表失败')\r\n      this.$message.success('获取用户数据列表成功')\r\n      this.cateList = res.data.result\r\n      this.total=res.data.total;\r\n    //   console.log(res.data);\r\n      \r\n    }\r\n  }\r\n  \r\n}\r\n</script>\r\n<style lang='less' scoped>\r\n.search_button {\r\n    margin-bottom: 10px;\r\n    }\r\n</style>"],"sourceRoot":"src/components/goods"}]}