{"remainingRequest":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\babel-loader\\lib\\index.js!F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\src\\components\\goods\\List.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\src\\components\\goods\\List.vue","mtime":1564844983458},{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\item\\就业班\\day60-vuejs\\电商项目\\3.项目实战day1\\素材\\my_shop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"F:\\\\item\\\\\\u5C31\\u4E1A\\u73ED\\\\day60-vuejs\\\\\\u7535\\u5546\\u9879\\u76EE\\\\3.\\u9879\\u76EE\\u5B9E\\u6218day1\\\\\\u7D20\\u6750\\\\my_shop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getGoods_api } from '@/api';\nexport default {\n  data: function data() {\n    return {\n      common: ['商品管理', '商品列表'],\n      //公共组件传值\n      inputSearch: '',\n      //搜索value\n      tableGoods: [],\n      //展示商品列表参数\n      queryInfo: {\n        //请求商品列表参数\n        query: '',\n        pagenum: 1,\n        pagesize: 10\n      },\n      currentPage: 1,\n      //当前页\n      total: 0 //总页数\n\n    };\n  },\n  methods: {\n    toAdd: function toAdd() {\n      this.$router.push('/add');\n      console.log(111);\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      // console.log(val);\n      this.queryInfo.pagesize = val;\n      this.getGoods();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      // console.log(val);\n      this.queryInfo.pagenum = val;\n      this.getGoods();\n    },\n    getGoods: function () {\n      var _getGoods = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _ref, res;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getGoods_api(this.queryInfo);\n\n              case 2:\n                _ref = _context.sent;\n                res = _ref.data;\n                // console.log(res)\n                console.log(res.data);\n\n                if (!(res.meta.status != 200)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", this.$message.error('获取用户数据列表失败'));\n\n              case 7:\n                this.$message.success('获取用户数据列表成功');\n                this.tableGoods = res.data.goods;\n                this.total = res.data.total;\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getGoods() {\n        return _getGoods.apply(this, arguments);\n      }\n\n      return getGoods;\n    }()\n  },\n  created: function created() {\n    this.getGoods();\n  }\n};",{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,SAAA,YAAA,QAAA,OAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CADA;AACA;AACA,MAAA,WAAA,EAAA,EAFA;AAEA;AACA,MAAA,UAAA,EAAA,EAHA;AAGA;AACA,MAAA,SAAA,EAAA;AAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,CAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OAJA;AASA,MAAA,WAAA,EAAA,CATA;AASA;AACA,MAAA,KAAA,EAAA,CAVA,CAUA;;AAVA,KAAA;AAYA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,KAJA;AAKA,IAAA,gBALA,4BAKA,GALA,EAKA;AACA;AACA,WAAA,SAAA,CAAA,QAAA,GAAA,GAAA;AACA,WAAA,QAAA;AACA,KATA;AAUA,IAAA,mBAVA,+BAUA,GAVA,EAUA;AACA;AACA,WAAA,SAAA,CAAA,OAAA,GAAA,GAAA;AACA,WAAA,QAAA;AACA,KAdA;AAeA,IAAA,QAfA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAgBA,YAAA,CAAA,KAAA,SAAA,CAhBA;;AAAA;AAAA;AAgBA,gBAAA,GAhBA,QAgBA,IAhBA;AAiBA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA;;AAlBA,sBAmBA,GAAA,CAAA,IAAA,CAAA,MAAA,IAAA,GAnBA;AAAA;AAAA;AAAA;;AAAA,iDAoBA,KAAA,QAAA,CAAA,KAAA,CAAA,YAAA,CApBA;;AAAA;AAqBA,qBAAA,QAAA,CAAA,OAAA,CAAA,YAAA;AACA,qBAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,qBAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;;AAvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAfA;AAyCA,EAAA,OAzCA,qBAyCA;AACA,SAAA,QAAA;AACA;AA3CA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <Breadcrumb :value=\"common\"></Breadcrumb>\r\n    <el-card class=\"box-card\">\r\n      <div class=\"text item\">\r\n        <el-input clearable v-model=\"inputSearch\" placeholder=\"请输入内容\" style=\"width: 30%;\">\r\n          <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\r\n        </el-input>\r\n        <el-button type=\"success\" style class=\"search_button\" @click=\"toAdd\">添加商品</el-button>\r\n      </div>\r\n      <!-- 列表 -->\r\n      <template>\r\n        <el-table :data=\"tableGoods\" border style=\"width: 100% \">\r\n          <el-table-column type=\"index\" label=\"#\" width=\"50\" style=\"text-align: center\"></el-table-column>\r\n          <el-table-column prop=\"goods_name\" label=\"商品名称\" width=\"600\"></el-table-column>\r\n          <el-table-column prop=\"goods_price\" label=\"商品价格(元)\" width=\"80\"></el-table-column>\r\n          <el-table-column prop=\"goods_weight\" label=\"商品重量\" width=\"80\"></el-table-column>\r\n          <el-table-column prop=\"add_time\" label=\"创建时间\" width=\"150\">\r\n            <template slot-scope=\"scope\">{{scope.row.add_time | dateFormat}}</template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"address\" label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <!-- 修改按钮 -->\r\n              <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"></el-button>\r\n              <!-- 删除按钮 -->\r\n              <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"></el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </template>\r\n      <!-- //分页 -->\r\n      <el-pagination\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"queryInfo.pagenum\"\r\n          :page-sizes=\"[2, 5, 10, 20]\"\r\n          :page-size=\"queryInfo.pagesize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n      ></el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n\r\n           \r\n<script>\r\nimport { getGoods_api } from '@/api'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      common: ['商品管理', '商品列表'], //公共组件传值\r\n      inputSearch: '',  //搜索value\r\n      tableGoods: [],  //展示商品列表参数\r\n      queryInfo: {    //请求商品列表参数\r\n        query: '',\r\n        pagenum: 1,\r\n        pagesize: 10\r\n      },\r\n      currentPage:1 , //当前页\r\n      total:0  //总页数\r\n    }\r\n  },\r\n  methods: {\r\n    toAdd(){\r\n      this.$router.push('/add')\r\n      console.log(111);\r\n    },\r\n    handleSizeChange(val){\r\n      // console.log(val);\r\n      this.queryInfo.pagesize=val\r\n      this.getGoods() \r\n    },\r\n    handleCurrentChange(val){\r\n      // console.log(val);\r\n      this.queryInfo.pagenum=val\r\n       this.getGoods() \r\n    },\r\n    async getGoods() {\r\n      const { data: res } = await getGoods_api(this.queryInfo)\r\n      // console.log(res)\r\n      console.log(res.data)\r\n      if (res.meta.status != 200)\r\n        return this.$message.error('获取用户数据列表失败')\r\n      this.$message.success('获取用户数据列表成功')\r\n      this.tableGoods = res.data.goods\r\n      this.total=res.data.total\r\n    }\r\n  },\r\n  created() {\r\n    this.getGoods()\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.search_button {\r\n  margin-left: 10px;\r\n}\r\n</style>"],"sourceRoot":"src/components/goods"}]}